var $=require("jquery"),_=require("underscore"),Backbone=require("backbone"),Automation=require("automationjs");Backbone.$=$;var app=app||{};app.SpotNewsPush=Backbone.Model.extend({url:function(){return"/1/sandbox/weather/"+this.attributes.city},wsUrl:function(){return"ws://sockets.mbed.org/ws/mbedschool/ro"},defaults:{success:!1,errors:[],errfor:{},city:"",country:"",img:"",lowpulseoccupancytime:10,temp:"",x:10,y:"",z:"",ax:"",ay:"",az:""},parseJSON:function(){var a=this.get("x"),b=this.get("y"),c=this.get("z");a=100*(a/1e4+1),b=100*(b/1e4+1),c=100*(c/1e4+1),this.set("x",a),this.set("y",b),this.set("z",c)}}),app.TestUp=Backbone.Model.extend({url:function(){return"/1/sandbox/weather/"+this.attributes.city},wsUrl:function(){return"ws://192.168.21.104:8080/"},defaults:{success:!1,errors:[],errfor:{},city:"",country:"",img:"",lowpulseoccupancytime:10,temp:"",x:10,y:"",z:"",ax:"",ay:"",az:""},parseJSON:function(){this.get("ax"),this.get("ay"),this.get("az");this.set("result",!1)}}),app.Accel=Backbone.Model.extend({url:function(){return"/1/sandbox/weather/"+this.attributes.city},wsUrl:function(){return"ws://wot.city/object/accelerometer/viewer"},defaults:{success:!1,errors:[],errfor:{},ax:10,ay:10,az:10,degree_x:0},parseJSON:function(){var a=0+this.get("ax"),b=(0+this.get("ay"),1);0>a&&(b=-1),a*=b;var c=[0,.047,.094,.141,.188,.234,.281,.328,.375,.422,.469,.516,.563,.609,.656,.703,.75,.797,.844,.891,.938,.984],d=[0,2.69,5.38,8.08,10.81,13.55,16.33,19.16,22.02,24.95,27.95,31.04,34.23,37.54,41.01,44.68,48.59,52.83,57.54,62.95,69.64,79.86];for(i=0;i<c.length;i++)if(a===c[i]){this.set("degree_x",d[i]*b);break}}}),app.SpotsPushView=Backbone.View.extend({el:"#demo-spot",template:_.template($("#tmpl-spot-news").html()),events:{"click #btn-demo-spot":"handleTaget","click .btn-spot-news":"handleCurrentTaget"},initialize:function(){this.component=new Automation({el:this.$el,model:app.SpotNewsPush,template:this.template});this.component.add({city:"Taipei",country:"tw",lowpulseoccupancytime:0,href:"https://www.mokoversity.com/coders",img:"/images/gallery/timeline-1.jpg"})},handleTaget:function(a){a.preventDefault(),this.$el.find(a.target).addClass("hide")},handleCurrentTaget:function(a){a.preventDefault();{var b=this.$el.find(a.currentTarget);b.data("cid")}this.component.trigger("forceUpdateAll")},render:function(){$("#current div.bottom").css("height","60px").animate({height:this.get("x")},1e3)}}),app.TestUpView=Backbone.View.extend({el:"#test-up",template:_.template($("#tmpl-test-up").html()),events:{"click #btn-demo-spot":"handleTaget","click .btn-spot-news":"handleCurrentTaget"},initialize:function(){this.component=new Automation({el:this.$el,model:app.TestUp,template:this.template});this.component.add({city:"Taipei",country:"tw",lowpulseoccupancytime:0,href:"https://www.mokoversity.com/coders",img:"/images/gallery/timeline-1.jpg"})},handleTaget:function(a){a.preventDefault(),this.$el.find(a.target).addClass("hide")},handleCurrentTaget:function(a){a.preventDefault();{var b=this.$el.find(a.currentTarget);b.data("cid")}this.component.trigger("forceUpdateAll")},render:function(){$("#current div.bottom").css("height","60px").animate({height:this.get("x")},1e3)}}),app.AccelView=Backbone.View.extend({el:"#demo-accel",template:_.template($("#tmpl-accel").html()),events:{},initialize:function(){this.component=new Automation({el:this.$el,model:app.Accel,template:this.template});var a=this.component.add({ax:10,ay:20,az:30,degree_x:0});a.bind("notify.change",this.render,a)},render:function(){var a=this.get("degree_x");$(".progress").css("-webkit-transform","rotate("+a+"deg)")}}),$(function(){app.accelView=new app.AccelView});
//# sourceMappingURL=dashboard.min.js.map