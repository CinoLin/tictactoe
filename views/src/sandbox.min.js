var $=require("jquery"),_=require("underscore"),Backbone=require("backbone"),Automation=require("automationjs-dev");Backbone.$=$;var app=app||{};app.SpotNews=Backbone.Model.extend({url:function(){return"/1/sandbox/weather/"+this.attributes.city},defaults:{success:!1,errors:[],errfor:{},city:"",country:"",img:"",temp:0},parseJSON:function(a){var b=(Math.round(1.8*(a.main.temp-273.15)+32),Math.round(a.main.temp-273.15));this.set("temp",b)}}),app.SpotNewsPush=Backbone.Model.extend({url:function(){return"/1/sandbox/weather/"+this.attributes.city},wsUrl:function(){return"ws://localhost:8080/"},defaults:{success:!1,errors:[],errfor:{},city:"",country:"",img:"",temp:0}}),app.SpotsView=Backbone.View.extend({el:"#demo-spot",template:_.template($("#tmpl-spot-news").html()),events:{"click #btn-demo-spot":"handleTaget","click .btn-spot-news":"handleCurrentTaget"},initialize:function(){this.component=new Automation({el:this.$el,model:app.SpotNews,template:this.template}),this.render()},handleTaget:function(a){a.preventDefault(),this.$el.find(a.target).addClass("hide")},handleCurrentTaget:function(a){a.preventDefault();{var b=this.$el.find(a.currentTarget);b.data("cid")}this.component.trigger("forceUpdateAll")},render:function(){this.component.add({city:"Taipei",country:"tw",temp:0,href:"https://www.mokoversity.com/coders",img:"/images/gallery/timeline-1.jpg"}),this.component.trigger("forceUpdateAll")}}),app.SpotsPushView=Backbone.View.extend({el:"#demo-spot",template:_.template($("#tmpl-spot-news").html()),events:{"click #btn-demo-spot":"handleTaget","click .btn-spot-news":"handleCurrentTaget"},initialize:function(){this.component=new Automation({el:this.$el,model:app.SpotNewsPush,template:this.template}),this.render()},handleTaget:function(a){a.preventDefault(),this.$el.find(a.target).addClass("hide")},handleCurrentTaget:function(a){a.preventDefault();{var b=this.$el.find(a.currentTarget);b.data("cid")}this.component.trigger("forceUpdateAll")},render:function(){this.component.add({city:"Taipei",country:"tw",temp:0,href:"https://www.mokoversity.com/coders",img:"/images/gallery/timeline-1.jpg"})}}),$(function(){app.spotsPushView=new app.SpotsPushView});
//# sourceMappingURL=sandbox.min.js.map