var $=require("jquery"),_=require("underscore"),Backbone=require("backbone"),Component=require("automationjs");Backbone.$=$;var app=app||{};app.SpotNews=Backbone.Model.extend({url:function(){return"http://api.openweathermap.org/data/2.5/weather?q="+this.attributes.city+","+this.attributes.country},defaults:{success:!1,errors:[],errfor:{},city:"",country:"",img:"",temp:0},parseJSON:function(a){var b=(Math.round(1.8*(a.main.temp-273.15)+32),Math.round(a.main.temp-273.15));this.set("temp",b)}}),app.SpotNewsCollection=Backbone.Collection.extend({model:app.SpotNews}),app.SpotsView=Backbone.View.extend({el:"#demo-spot",template:_.template($("#tmpl-spot-news").html()),events:{"click #btn-demo-spot":"handleTaget","click .btn-spot-news":"handleCurrentTaget"},initialize:function(){this.component=new Component.SpotList({el:this.$el,model:app.SpotNews,template:this.template}),this.render()},handleTaget:function(a){a.preventDefault(),this.$el.find(a.target).addClass("hide")},handleCurrentTaget:function(a){a.preventDefault();{var b=this.$el.find(a.currentTarget);b.data("cid")}this.component.trigger("forceUpdateAll")},render:function(){this.component.add({city:"London",country:"uk",temp:0,href:"https://www.mokoversity.com/coders",img:"//static.mokoversity.com/images/gallery/spot-course.jpg"}),this.component.add({city:"Taipei",country:"tw",temp:0,href:"https://www.mokoversity.com/coders",img:"//static.mokoversity.com/images/gallery/spot-course.jpg"}),this.component.add({city:"Singapore",country:"sg",temp:0,href:"https://www.mokoversity.com/coders",img:"//static.mokoversity.com/images/gallery/spot-course.jpg"}),this.component.add({city:"Tainan",country:"tw",temp:0,href:"https://www.mokoversity.com/coders",img:"//static.mokoversity.com/images/gallery/spot-course.jpg"}),this.component.add({city:"Shenzhen",country:"cn",temp:0,href:"https://www.mokoversity.com/coders",img:"//static.mokoversity.com/images/gallery/spot-course.jpg"}),this.component.add({city:"Kyoto",country:"jp",temp:0,href:"https://www.mokoversity.com/coders",img:"//static.mokoversity.com/images/gallery/spot-course.jpg"}),this.component.trigger("forceUpdateAll")}}),$(function(){app.spotsView=new app.SpotsView});
//# sourceMappingURL=index.min.js.map